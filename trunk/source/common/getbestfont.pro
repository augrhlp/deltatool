;FUNCTION getBestFont, fontName=fontName, fontSize=fontSize, fontType=fontType, STANDARD=STANDARD, FINE=FINE;	;  ; ignore fontName when SYSTEM or STANDARD was set...;  if keyword_set(FINE) then fontName=getenv('DEVICE_FINE_FONT_NAME');  if keyword_set(STANDARD) then fontName=getenv('DEVICE_STANDARD_FONT_NAME');  ;if keyword_set(FINE) and ~keyword_set(fontName) then fontName=getenv('DEVICE_FINE_FONT_NAME')  ;  ;if keyword_set(STANDARD) and ~keyword_set(fontName) then fontName=getenv('DEVICE_STANDARD_FONT_NAME');  if n_elements(fontSize) ne 1 then fontSize='';  if n_elements(fontType) ne 1 then fontType='';  ;  os=strupcase(!version.os_family);  fullFontName=fontName;  if fontSize ne '' then fullFontName=fullFontName+'*'+fontSize;  if fontType ne '' then fullFontName=fullFontName+'*'+fontType;  ;if os eq 'WIN' then begin;	;   fullFontName=fontName;  ;   if fontSize ne '' then fullFontName=fullFontName+'*'+fontSize;  ;   if fontType ne '' then fullFontName=fullFontName+'*'+fontType;  ;endif else begin;	currDevice=!D.NAME;	if currDevice ne 'PS' then begin;	  DEVICE, GET_FONTNAMES=fnames, SET_FONT='*', /TT_FONT;    ;if fontSize eq '' then testFontSize=fontName else testFontSize=fontSize;    if fontType eq '' then testFontType=fontName else testFontType=fontType;    ;fontDetails=strsplit(fontName);    fontDetails=strlowcase(fnames);    foundName=strpos(fontDetails, strlowcase(fontName));    ;foundSize=strpos(strlowcase(fontsize), fontDetails);    foundType=strpos(fontDetails, strlowcase(fontType));    ;idx=where(foundName ne -1 and foundSize ne -1 and foundType ne -1, count);    idx=where(foundName ne -1 and foundType ne -1, count);    if count eq 0 then begin;	     newFont=fnames[0];	     a=dialog_message(TITLE='Font error', $;        ['Font (Name: '+fontName+' , '+ $;          'Size: '+fontSize+' , '+ $;          'Type: '+fontType+' , ', 'not available!', $;          'available list: ', fnames, $;          'change env variable(s) ', $;          'DEVICE_FINE_FONT_NAME and',$;          'DEVICE_SYSTEM_FONT_NAME'+$;          'with best one (setup.ini)!'] $;          , /ERROR);     endif else begin;	     newFont=fullFontName
;       ;if count eq 0 then newFont=fnames[0] else newFont=fullFontName;     endelse;  endif
;	return, fullFontName;;END